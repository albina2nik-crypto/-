{% extends 'base.html' %}

{% block title %}Номер {{ room.number }}{% endblock %}

{% block content %}
<div class="container mx-auto p-4">
    <div class="bg-white p-8 rounded-lg shadow-xl">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Image/Gallery -->
            <div>
                <img class="w-full h-96 object-cover rounded-lg shadow-md" src="https://picsum.photos/seed/room_{{ room.number }}/1000/600" alt="Фото номера {{ room.number }}">
            </div>

            <!-- Details and Booking -->
            <div>
                <h1 class="text-4xl font-bold text-gray-900 mb-2">Номер {{ room.number }}</h1>
                <p class="text-xl font-semibold text-hotel-primary mb-4">{{ room.get_room_type_display }}</p>

                <div class="mb-6">
                    <p class="text-3xl font-bold text-gray-900">{{ room.price_per_night|floatformat:0 }} KZT <span class="text-base font-normal text-gray-500">за ночь</span></p>
                </div>

                <h2 class="text-2xl font-semibold text-gray-800 mb-3">Описание</h2>
                <p class="text-gray-600 mb-6">{{ room.description }}</p>

                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div>
                        <p class="font-medium text-gray-500">Макс. гостей:</p>
                        <p class="text-gray-800">{{ room.max_guests }}</p>
                    </div>
                    <div>
                        <p class="font-medium text-gray-500">Удобства:</p>
                        <p class="text-gray-800">{{ room.amenities|default:"Не указаны" }}</p>
                    </div>
                </div>

                <h2 class="text-2xl font-semibold text-gray-800 mb-3">Проверка доступности</h2>
                <div class="p-4 rounded-lg {% if is_available %}bg-green-100 text-green-800{% else %}bg-red-100 text-red-800{% endif %} mb-6">
                    {% if is_available %}
                        <p class="font-bold">Свободен!</p>
                        <p>Номер свободен на ближайшие 7 дней ({{ default_check_in }} - {{ default_check_out }}).</p>
                    {% else %}
                        <p class="font-bold">Занят!</p>
                        <p>Номер занят в период с {{ default_check_in }} по {{ default_check_out }}.</p>
                    {% endif %}
                </div>

                <a href="{% url 'booking_create' room_id=room.pk %}" class="w-full inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                    Забронировать этот номер
                </a>
                
                <a href="{% url 'room_list' %}" class="mt-3 w-full inline-flex justify-center items-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50">
                    Посмотреть другие номера
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
