# Hotel Booking System (Django)

Это полностью готовый веб-сайт гостиницы, разработанный на Django с использованием Tailwind CSS (через CDN) и Bootstrap 5 (для Crispy Forms).

## Технологии

*   **Backend:** Django
*   **Frontend:** HTML, Tailwind CSS (CDN), Bootstrap 5 (для форм)
*   **База данных:** SQLite (по умолчанию, можно легко перейти на PostgreSQL)
*   **Язык:** Русский
*   **Валюта:** Тенге (KZT)

## Требования

*   Python 3.8+
*   `pip` (менеджер пакетов Python)

## Инструкция по запуску

### 1. Установка зависимостей

Создайте и активируйте виртуальное окружение, затем установите Django и необходимые пакеты:

```bash
# Создание виртуального окружения
python3 -m venv venv

# Активация виртуального окружения
source venv/bin/activate

# Установка зависимостей
pip install django django-crispy-forms crispy-bootstrap5 Pillow
```

### 2. Применение миграций и заполнение демоданными

Проект уже содержит миграции. Для создания структуры базы данных и заполнения ее демоданными используйте команду `seed_data`:

```bash
# Применение миграций
python manage.py migrate

# Заполнение демоданными (номера, сотрудники, тестовые пользователи)
python manage.py seed_data
```

**Примечание:** Команда `seed_data` автоматически создает:
*   **Суперпользователя (для админ-панели):**
    *   Логин: `admin`
    *   Пароль: `adminpassword`
*   **Тестового пользователя (для бронирования):**
    *   Логин: `user`
    *   Пароль: `userpassword`

### 3. Запуск сервера

```bash
python manage.py runserver
```

Сервер будет доступен по адресу `http://127.0.0.1:8000/`.

## Тестирование функционала

### 1. Админ-панель

*   **Адрес:** `/admin/`
*   **Логин:** `admin` / **Пароль:** `adminpassword`
*   Вы можете управлять:
    *   **Комнатами:** Добавлять, редактировать, удалять номера.
    *   **Сотрудниками:** Управлять списком сотрудников и их уровнями доступа.
    *   **Бронированиями:** Изменять статусы, просматривать детали.

### 2. Бронирование и Оплата

1.  **Регистрация/Вход:** Используйте тестового пользователя `user`/`userpassword` или зарегистрируйте нового.
2.  **Поиск номеров:** Перейдите на `/rooms/` и используйте фильтр по датам для проверки доступности.
3.  **Бронирование:** На странице номера нажмите "Забронировать".
4.  **Подтверждение:** После создания бронирования вы попадете на страницу подтверждения (`/booking/<id>/confirm/`).
5.  **Имитация оплаты:** Выберите один из казахстанских платежных сервисов (Kaspi Pay, Halyk Pay, BCC Pay) и нажмите "Перейти к оплате".
    *   **Внимание:** Это имитация. Приложение автоматически создает запись в таблице `Payment` со статусом `completed` и меняет статус брони на `paid`.
6.  **Личный кабинет:** На странице `/profile/` вы увидите историю своих бронирований и их статусы.

## Структура проекта

```
HotelBookingSystem/
├── HotelBookingSystem/
│   ├── settings.py           # Настройки проекта (AUTH_USER_MODEL, INSTALLED_APPS, KZT, ru)
│   └── urls.py               # Главные маршруты
├── hotel/
│   ├── models.py             # Модели: CustomUser, Employee, Room, Booking, Payment
│   ├── forms.py              # Формы: CustomUserCreationForm, BookingForm
│   ├── views.py              # Представления: Аутентификация, Номера, Бронирование, Оплата (Mock)
│   ├── urls.py               # Маршруты приложения hotel
│   ├── admin.py              # Настройка админ-панели для всех моделей
│   ├── management/commands/
│   │   └── seed_data.py      # Скрипт для заполнения демоданными
│   └── templates/hotel/      # HTML-шаблоны
│       ├── base.html         # Базовый шаблон с Tailwind/Bootstrap
│       ├── home.html         # Главная страница
│       ├── room_list.html    # Список номеров с фильтром
│       ├── room_detail.html  # Детали номера
│       ├── register.html     # Регистрация
│       ├── login.html        # Вход
│       ├── profile.html      # Личный кабинет и история броней
│       ├── booking_create.html # Форма бронирования
│       ├── booking_confirm.html # Подтверждение и выбор оплаты
│       └── payment_success.html # Успешная оплата
└── venv/                     # Виртуальное окружение
```
